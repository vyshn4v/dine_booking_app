<section style="min-height: 75vh;" class="mt-5 w-75 d-flex-colum">
  <div class="row">
    <div class="col-12">
      <h2 class="tm-block-title d-inline-block">Add Product</h2>
    </div>
  </div>
  <table class="table mt-3" id="myTable">
    <thead class="thead-dark">
      <tr>
        <th scope="col">No</th>
        <th scope="col">chair for <br> one table</th>
        <th scope="col">total tables</th>
        <th scope="col">Handle</th>
      </tr>
    </thead>
    <tbody>
      {{#each tables}}
      <tr id="table{{this._id}}">
        <th scope="row">{{inc @index 1 }}</th>
        <td>{{this.chair}}</td>
        <td>{{this.table}}</td>
        <td>
          <!-- Button trigger modal -->
          <button type="button" class="btn btn-danger d-flex justify-content-center align-items-center"
            style="height: 30px; width: 80px;" data-toggle="modal" data-target="#tableModal{{this._id}}">
            Delete
          </button>
          <!-- Modal -->
          <div class="modal fade" id="tableModal{{this._id}}" tabindex="-1" role="dialog"
            aria-labelledby="tableModal{{this._id}}" aria-hidden="false">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  ...
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" onclick="deleteTable('{{this._id}}')">delete
                    category</button>
                </div>
              </div>
            </div>
          </div>
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</section>
<script>
  $(document).ready(function () {
    $('#myTable').dataTable();
  });
  function deleteTable(tableId) {
    const div = document.getElementById("table" + tableId)
    const url = window.location.origin
    fetch(`${url}/restaurant/profile/delete-tables/${tableId}`, {
      method: "POST"
    }).then((res) => res.json()).then((response) => {
      if (response.status) {
        $("table" + tableId).modal('toggle')
        setTimeout( () => {
          div.remove()
        },500)
      } else {
        alert(response.message)
      }
    })
  }
</script>